<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
  

    <body>
     <ul id="xx" style="border: 1px solid green;">
         <li style="border:1px solid yellow;"><span style="border: 1px solid red; display: inline-block;;">lalalallalal</span></li>
         <li>2</li>
         <li>3</li>
         <li>4</li>
         <li>5</li>
     </ul>
    </body>
    <script>
       function delegate(element, eventType, selector, fn) {
            // element ul selector li
            element.addEventListener(eventType, e => {
                let el = e.target
                console.log(e, el, el.matches(selector))
                while (!el.matches(selector)) {
                    if (el == element) {
                        console.log('我是最外层')
                        el = null
                        break
                    }
                    el = el.parentNode
                }
                el && fn.apply(el, e, el)
            })
            return element
        } 
        function fn(){
            console.log('dsf')
        }
        let ul = document.getElementById("xx");
        delegate(ul, 'click', 'li', fn)
    </script>
</html>
